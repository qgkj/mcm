<!doctype html>
<html lang="chs">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0,user-scalable=0">
    <title>MCM_插入操作</title>
    <link rel="stylesheet" type="text/css" href="../css/common.css" />
    <script type="text/javascript" src="../script/common.js"></script>
    <style>
    	
    </style>
    <script type="text/javascript">
		var mcm = null;
		var query = null;
		apiready = function(){
	    	mcm = api.require('model');
	    	query = api.require('query');
	    	//在线编译正式版时，可以不用配置,APICloud会取当前应用的配置
	    	mcm.config({
	    		appId:"A6930535019520", 
	    		appKey:"55BBB2DC-ABE5-650D-8E25-816CD47360E9", 
	    		url:'https://d.apicloud.com'
	    	});
	    }
	    
		var clazz = "Endo";
		
		function checkClass(){
			clazz = value('clzz');
		}
		
		var dataCount = 0;
		
		function mcm_insert(){
			checkClass();
			dataCount++;
			var ac = 'name_aaaa-' + dataCount;
	    	var bc = 'des_bbbb-' + dataCount;
	    	var ax = ['user_1111-' + dataCount, 'user_2222' + dataCount, 'user_3333' + dataCount];
	    	var dc = {name:ac, des:bc, user:ax};
			var param = {class:clazz, value:dc};
			loading();
			mcm.insert(param, function(ret, err){
				finishing();
				if(ret){
					showAlert(JSON.stringify(ret));
				}else{
					showAlert(JSON.stringify(err));
				}
			});
		}
		
		function mcm_insertAll(){
			;
		}
	</script>
</head>
<body>
    <div >
        <div id="main"> 
            <div>
            	<div class="line">插入操作</div>
            	<div>被操作Class：<input type="text" value="Endo" id="clzz"/></div>
            	<div class="btn" tapmode="active" onclick="mcm_insert()" >插入一条</div>
            </div>
        </div>   
    </div>
</body>
</html>